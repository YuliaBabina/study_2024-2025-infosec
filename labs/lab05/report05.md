# **Отчет к лабораторной работе №5**
## **Common information**
discipline: Основы информационной безопасности  
group: НПМбд-02-21  
author: Бабина Ю. О.
---
---
## **Цель работы**
Изучение механизмов изменения идентификаторов, применения
SetUID- и Sticky-битов. 
Получение практических навыков работы в консоли с дополнительными атрибутами. Рассмотрение работы механизма
смены идентификатора процессов пользователей, а также влияние бита
Sticky на запись и удаление файлов.

## **Выполнение работы**

Войдем в систему от имени пользователя guest.

![Вход под пользователем guest](images/s1.png)

Создадим программу simpleid.c: 

![Программа simpleid.c](images/s2.png)

Скомплилируем программу и убедимся, что файл программы создан:

![Процесс компиляции](images/s3.png)

Выполним программу simpleid и системную программу id:

![Запуск программы и комнда id](images/s5.png)

Усложним программу, добавив вывод действительных идентификаторов. Далее получившуюся программу назовем simpleid2.c.

![Программа simpleid2.c](images/s6.png)

Скомпилируем и запустим simpleid2.c:

![Процесс компиляции и запуск](images/s7.png)

От имени суперпользователя выполним команды:
"chown root:guest /home/guest/simpleid2" и 
"chmod u+s /home/guest/simpleid2". Выполним проверку правильности установки новых атрибутов и смены владельца файла simpleid2:

![Изменение прав доступа к файлу](images/s8.png)

Запустим simpleid2 и id:

![Повторный запуск программы simpleid2](images/s9.png)

Проделаем тоже самое относительно SetGID-бита:

![Добалвение SetGID-бита](images/s10.png)

Создадим программу readfile.c:

![Программа readfile.c](images/s11.png)

Откомпилируем её с помощью команды: "gcc readfile.c -o readfile":

![Процесс компиляции](images/s12.png)

Сменим владельца у файла readfile.c (или любого другого текстового
файла в системе) и изменим права так, чтобы только суперпользователь
(root) мог прочитать его, a guest не мог:

![Изменение прав доступа к файлу](images/s13.png)

Проверим, что пользователь guest не может прочитать файл readfile.c. Далее сменим у программы readfile владельца и установим SetUID-бит.

![Попытка чтения файла](images/s14.png)

![Добалвение SetUID-бита](images/s14_1.png)

Проверим, может ли программа readfile прочитать файл readfile.c:

![Попытка чтения файла](images/s15.png)

Проверим, может ли программа readfile прочитать файл /etc/shadow:

![Попытка чтения файла](images/s16.png)

Выясним, установлен ли атрибут Sticky на директории /tmp, для этого выполним команду:
"ls -l / | grep tmp".

![Просмотр Sticky-бита](images/s17.png)

От имени пользователя guest создадим файл file01.txt в директории /tmp со словом test с помощью команды: "echo "test" > /tmp/file01.txt":

![Создание файла](images/s18.png)

Просмотрим атрибуты у только что созданного файла и разрешим чтение и запись для категории пользователей «все остальные»:

![Изменение прав доступа](images/s19.png)

От пользователя guest2 (не являющегося владельцем) попробуем прочитать файл /tmp/file01.txt с помощью команды:"cat /tmp/file01.txt":

![Попытка чтения файла](images/s20.png)

Далее от пользователя guest2 попробуем дозаписать в файл /tmp/file01.txt слово test2:

![Попытка дозаписи файла](images/s21.png)

Проверим содержимое файла командой: "cat /tmp/file01.txt":

![Попытка чтения файла](images/s22.png)

Также попробуем записать в файл /tmp/file01.txt
слово test3, стерев при этом всю имеющуюся в файле информацию:

![Попытка записи в файл](images/s23.png)

От пользователя guest2 попробуем удалить файл /tmp/file01.txt:

![Попытка удаления файла](images/s24.png)

Повысим свои права до суперпользователя и выполним после этого команду, снимающую атрибут t (Sticky-бит) с директории /tmp. Далее покинем режим суперпользователя:

![Снятие Sticky-бита](images/s25.png)

От пользователя guest2 проверим, что атрибута t у директории /tmp нет. Далее повторим предыдущие шаги:

![Повтор предыдущих команд](images/s26.png)

Повысим свои права до суперпользователя и вернем атрибут t на директорию /tmp:

![Добавление Sticky-бита](images/s27.png)


## **Вывод**
В рамках выполнения данной лабораторной работы я изучила механизмы изменения идентификаторов, применения SetUID- и Sticky-битов.

Получила практические навыки работы в консоли с дополнительными атрибутами.

 Рассмотрела работы механизма смены идентификатора процессов пользователей, а также влияние бита
Sticky на запись и удаление файлов.

## **Список литературы** ##
* https://habr.com/ru/articles/469667/
* https://www.golinuxcloud.com/sticky-bit-linux/
* https://rockylinux.org/